<!DOCTYPE html>
<html lang="fr">
	<head>
		<title>Canvas Demo</title>
		<meta charset="utf-8">
		<script>
			var ctx = null;
			var scene = null;
			
			window.onload = function () {
				ctx = document.getElementById('canvas').getContext("2d");
				scene = new SceneMenu();
				tick();
			}
			
			document.onkeypress = function (event) {
				scene.keypress(event);
			}
			
			function tick() {
				ctx.clearRect(0, 0, 300, 300);	
			
				scene.tick();
				
				setTimeout(tick, 30);
			}
			
			function SceneMenu() {
				this.tick = function() {
					// drawImage
					
					ctx.font = "40px Verdana";
					ctx.fillStyle = "blue";
					ctx.fillText("Start", 100, 50);
					
					// for spriteList...
				}
				
				this.keypress = function(event) {
					if (event.which == 32) {
						scene = new SceneGame();
					}
				}
			}
			
			function SceneGame() {
				this.tick = function() {
					ctx.font = "40px Verdana";
					ctx.fillStyle = "blue";
					ctx.fillText("Playing", 100, 50);
				}
				
				this.keypress = function(event) {
					if (event.which == 32) {
						scene = new SceneGameOver();
					}
				}
			}
			
			function SceneGameOver() {
				this.tick = function() {
					ctx.font = "40px Verdana";
					ctx.fillStyle = "red";
					ctx.fillText("YOU DIED", 100, 50);
				}
				
				this.keypress = function(event) {
					if (event.which == 32) {
						scene = new SceneMenu();
					}
				}
			}
			
		</script>
	</head>
	<body>
		<canvas id="canvas" width="300" height="300" style="border:1px solid black;">
			Not gonna happen...
		</canvas>
		
	</body>
</html>




















